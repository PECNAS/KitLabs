<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WebApplication1</title>
    <link rel="stylesheet" href="E:\vstudio\WebApplication1\WebApplication1\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css" />
    <link rel="stylesheet" href="site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/WebApplication1.styles.css" asp-append-version="true" />
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
</head>

<ul id="catalog-table">
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
        </br>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
        </br>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
            <li class="catalog-element">
                <div class="catalog-element-container">
                    <div class="element-img-container">
                        <img width="100%" height="100%" src="phone.jpg">
                    </div>
                    <span class="rating">⭐5.0</span>
                    <div class="title-container">
                        <span class="element-title">Смартфон Xiaomi Poco X5 5G 8/256GB, черный</span>
                    </div>
                    <br>
                    <div class="bottom-row-container">
                        <span class="price">26 990<a style="opacity: .5;">₽</a></span>
                        <div class="add-to-cart-container">
                            <button>+</button>
                        </div>
                    </div>

                </div>
            </li>
        </br>
</ul>


<script>
    async function add_to_cart(item_id, user_id) {
        var request = new XMLHttpRequest();
        request.open("GET", "/Catalog/AddToCart/?item_id=" + item_id + "&user_id=" + user_id);
        request.send();
        request.onreadystatechange = function () {
            if (request.readyState != 4
                || request.responseText == null) {
                return;
            }

            var obj = JSON.parse(request.response);
            console.log(obj);
            
            document.querySelector("#cart-count-" + obj["item_id"]).innerHTML = "В корзине " + obj["count"];
        }
    }
</script>
